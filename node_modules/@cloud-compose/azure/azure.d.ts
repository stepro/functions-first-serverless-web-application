import * as compose from "@cloud-compose/compose";

export interface ResourceSpec extends compose.ServiceSpec {
    readonly resourceType: string;
    resourceName: string;
    resourceGroup: string;
    location: string;
    tags: Map<string, string>;
}

export interface Resource<S extends ResourceSpec> extends compose.Service<S> {
    resourceId: string;
}

export interface ResourceSelection<T extends Resource<S>, S extends ResourceSpec> extends compose.Selection<T, S> {    
}

export interface ResourceReference<T extends Resource<S>, S extends ResourceSpec> extends ResourceSelection<T, S>, compose.Reference<T, S> {
}

export interface ResourceSelector<T extends Resource<S>, S extends ResourceSpec> extends compose.Selector<T, S> {    
    for(selector: string): ResourceSelection<T, S>;
    (name: string): ResourceReference<T, S>;
}